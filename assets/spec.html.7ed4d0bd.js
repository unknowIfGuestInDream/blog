import{_ as c}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as t,c as p,a as e,b as n,e as s,f as o,r as l}from"./app.e97fc371.js";const i={},d=e("h1",{id:"\u8BFB\u61C2-ecmascript-\u89C4\u683C",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u8BFB\u61C2-ecmascript-\u89C4\u683C","aria-hidden":"true"},"#"),n(" \u8BFB\u61C2 ECMAScript \u89C4\u683C")],-1),r=e("h2",{id:"\u6982\u8FF0",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u6982\u8FF0","aria-hidden":"true"},"#"),n(" \u6982\u8FF0")],-1),u=e("p",null,"\u89C4\u683C\u6587\u4EF6\u662F\u8BA1\u7B97\u673A\u8BED\u8A00\u7684\u5B98\u65B9\u6807\u51C6\uFF0C\u8BE6\u7EC6\u63CF\u8FF0\u8BED\u6CD5\u89C4\u5219\u548C\u5B9E\u73B0\u65B9\u6CD5\u3002",-1),k=e("p",null,"\u4E00\u822C\u6765\u8BF4\uFF0C\u6CA1\u6709\u5FC5\u8981\u9605\u8BFB\u89C4\u683C\uFF0C\u9664\u975E\u60A8\u8981\u5199\u7F16\u8BD1\u5668\u3002\u56E0\u4E3A\u89C4\u683C\u5199\u5F97\u975E\u5E38\u62BD\u8C61\u548C\u7CBE\u70BC\uFF0C\u53C8\u7F3A\u4E4F\u5B9E\u4F8B\uFF0C\u4E0D\u5BB9\u6613\u7406\u89E3\uFF0C\u800C\u4E14\u5BF9\u4E8E\u89E3\u51B3\u5B9E\u9645\u7684\u5E94\u7528\u95EE\u9898\uFF0C\u5E2E\u52A9\u4E0D\u5927\u3002\u4F46\u662F\uFF0C\u5982\u679C\u60A8\u9047\u5230\u7591\u96BE\u7684\u8BED\u6CD5\u95EE\u9898\uFF0C\u5B9E\u5728\u627E\u4E0D\u5230\u7B54\u6848\uFF0C\u8FD9\u65F6\u53EF\u4EE5\u53BB\u67E5\u770B\u89C4\u683C\u6587\u4EF6\uFF0C\u4E86\u89E3\u8BED\u8A00\u6807\u51C6\u662F\u600E\u4E48\u8BF4\u7684\u3002\u89C4\u683C\u662F\u89E3\u51B3\u95EE\u9898\u7684\u201C\u6700\u540E\u4E00\u62DB\u201D\u3002",-1),m=e("p",null,"\u8FD9\u5BF9 JavaScript \u8BED\u8A00\u5F88\u6709\u5FC5\u8981\u3002\u56E0\u4E3A\u5B83\u7684\u4F7F\u7528\u573A\u666F\u590D\u6742\uFF0C\u8BED\u6CD5\u89C4\u5219\u4E0D\u7EDF\u4E00\uFF0C\u4F8B\u5916\u5F88\u591A\uFF0C\u5404\u79CD\u8FD0\u884C\u73AF\u5883\u7684\u884C\u4E3A\u4E0D\u4E00\u81F4\uFF0C\u5BFC\u81F4\u5947\u602A\u7684\u8BED\u6CD5\u95EE\u9898\u5C42\u51FA\u4E0D\u7A77\uFF0C\u4EFB\u4F55\u8BED\u6CD5\u4E66\u90FD\u4E0D\u53EF\u80FD\u56CA\u62EC\u6240\u6709\u60C5\u51B5\u3002\u67E5\u770B\u89C4\u683C\uFF0C\u4E0D\u5931\u4E3A\u4E00\u79CD\u89E3\u51B3\u8BED\u6CD5\u95EE\u9898\u7684\u6700\u53EF\u9760\u3001\u6700\u6743\u5A01\u7684\u7EC8\u6781\u65B9\u6CD5\u3002",-1),b=e("p",null,"\u672C\u7AE0\u4ECB\u7ECD\u5982\u4F55\u8BFB\u61C2 ECMAScript 6 \u7684\u89C4\u683C\u6587\u4EF6\u3002",-1),h={href:"https://www.ecma-international.org/ecma-262/6.0/",target:"_blank",rel:"noopener noreferrer"},v=o(`<p>\u8FD9\u4E2A\u89C4\u683C\u6587\u4EF6\u76F8\u5F53\u5E9E\u5927\uFF0C\u4E00\u5171\u6709 26 \u7AE0\uFF0CA4 \u6253\u5370\u7684\u8BDD\uFF0C\u8DB3\u8DB3\u6709 545 \u9875\u3002\u5B83\u7684\u7279\u70B9\u5C31\u662F\u89C4\u5B9A\u5F97\u975E\u5E38\u7EC6\u81F4\uFF0C\u6BCF\u4E00\u4E2A\u8BED\u6CD5\u884C\u4E3A\u3001\u6BCF\u4E00\u4E2A\u51FD\u6570\u7684\u5B9E\u73B0\u90FD\u505A\u4E86\u8BE6\u5C3D\u7684\u6E05\u6670\u7684\u63CF\u8FF0\u3002\u57FA\u672C\u4E0A\uFF0C\u7F16\u8BD1\u5668\u4F5C\u8005\u53EA\u8981\u628A\u6BCF\u4E00\u6B65\u7FFB\u8BD1\u6210\u4EE3\u7801\u5C31\u53EF\u4EE5\u4E86\u3002\u8FD9\u5F88\u5927\u7A0B\u5EA6\u4E0A\uFF0C\u4FDD\u8BC1\u4E86\u6240\u6709 ES6 \u5B9E\u73B0\u90FD\u6709\u4E00\u81F4\u7684\u884C\u4E3A\u3002</p><p>ECMAScript 6 \u89C4\u683C\u7684 26 \u7AE0\u4E4B\u4E2D\uFF0C\u7B2C 1 \u7AE0\u5230\u7B2C 3 \u7AE0\u662F\u5BF9\u6587\u4EF6\u672C\u8EAB\u7684\u4ECB\u7ECD\uFF0C\u4E0E\u8BED\u8A00\u5173\u7CFB\u4E0D\u5927\u3002\u7B2C 4 \u7AE0\u662F\u5BF9\u8FD9\u95E8\u8BED\u8A00\u603B\u4F53\u8BBE\u8BA1\u7684\u63CF\u8FF0\uFF0C\u6709\u5174\u8DA3\u7684\u8BFB\u8005\u53EF\u4EE5\u8BFB\u4E00\u4E0B\u3002\u7B2C 5 \u7AE0\u5230\u7B2C 8 \u7AE0\u662F\u8BED\u8A00\u5B8F\u89C2\u5C42\u9762\u7684\u63CF\u8FF0\u3002\u7B2C 5 \u7AE0\u662F\u89C4\u683C\u7684\u540D\u8BCD\u89E3\u91CA\u548C\u5199\u6CD5\u7684\u4ECB\u7ECD\uFF0C\u7B2C 6 \u7AE0\u4ECB\u7ECD\u6570\u636E\u7C7B\u578B\uFF0C\u7B2C 7 \u7AE0\u4ECB\u7ECD\u8BED\u8A00\u5185\u90E8\u7528\u5230\u7684\u62BD\u8C61\u64CD\u4F5C\uFF0C\u7B2C 8 \u7AE0\u4ECB\u7ECD\u4EE3\u7801\u5982\u4F55\u8FD0\u884C\u3002\u7B2C 9 \u7AE0\u5230\u7B2C 26 \u7AE0\u4ECB\u7ECD\u5177\u4F53\u7684\u8BED\u6CD5\u3002</p><p>\u5BF9\u4E8E\u4E00\u822C\u7528\u6237\u6765\u8BF4\uFF0C\u9664\u4E86\u7B2C 4 \u7AE0\uFF0C\u5176\u4ED6\u7AE0\u8282\u90FD\u6D89\u53CA\u67D0\u4E00\u65B9\u9762\u7684\u7EC6\u8282\uFF0C\u4E0D\u7528\u901A\u8BFB\uFF0C\u53EA\u8981\u5728\u7528\u5230\u7684\u65F6\u5019\uFF0C\u67E5\u9605\u76F8\u5173\u7AE0\u8282\u5373\u53EF\u3002</p><h2 id="\u672F\u8BED" tabindex="-1"><a class="header-anchor" href="#\u672F\u8BED" aria-hidden="true">#</a> \u672F\u8BED</h2><p>ES6 \u89C4\u683C\u4F7F\u7528\u4E86\u4E00\u4E9B\u4E13\u95E8\u7684\u672F\u8BED\uFF0C\u4E86\u89E3\u8FD9\u4E9B\u672F\u8BED\uFF0C\u53EF\u4EE5\u5E2E\u52A9\u60A8\u8BFB\u61C2\u89C4\u683C\u3002\u672C\u8282\u4ECB\u7ECD\u5176\u4E2D\u7684\u51E0\u4E2A\u3002</p><h3 id="\u62BD\u8C61\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u62BD\u8C61\u64CD\u4F5C" aria-hidden="true">#</a> \u62BD\u8C61\u64CD\u4F5C</h3><p>\u6240\u8C13\u201D\u62BD\u8C61\u64CD\u4F5C\u201C(abstract operations)\u5C31\u662F\u5F15\u64CE\u7684\u4E00\u4E9B\u5185\u90E8\u65B9\u6CD5\uFF0C\u5916\u90E8\u4E0D\u80FD\u8C03\u7528\u3002\u89C4\u683C\u5B9A\u4E49\u4E86\u4E00\u7CFB\u5217\u7684\u62BD\u8C61\u64CD\u4F5C\uFF0C\u89C4\u5B9A\u4E86\u5B83\u4EEC\u7684\u884C\u4E3A\uFF0C\u7559\u7ED9\u5404\u79CD\u5F15\u64CE\u81EA\u5DF1\u53BB\u5B9E\u73B0\u3002</p><p>\u4E3E\u4F8B\u6765\u8BF4\uFF0C<code>Boolean(value)</code> \u7684\u7B97\u6CD5\uFF0C\u7B2C\u4E00\u6B65\u662F\u8FD9\u6837\u7684\u3002</p><blockquote><ol><li>Let <code>b</code> be <code>ToBoolean(value)</code>.</li></ol></blockquote><p>\u8FD9\u91CC\u7684 <code>ToBoolean</code> \u5C31\u662F\u4E00\u4E2A\u62BD\u8C61\u64CD\u4F5C\uFF0C\u662F\u5F15\u64CE\u5185\u90E8\u6C42\u51FA\u5E03\u5C14\u503C\u7684\u7B97\u6CD5\u3002</p><p>\u8BB8\u591A\u51FD\u6570\u7684\u7B97\u6CD5\u90FD\u4F1A\u591A\u6B21\u7528\u5230\u540C\u6837\u7684\u6B65\u9AA4\uFF0C\u6240\u4EE5 ES6 \u89C4\u683C\u5C06\u5B83\u4EEC\u62BD\u51FA\u6765\uFF0C\u5B9A\u4E49\u6210\u201D\u62BD\u8C61\u64CD\u4F5C\u201C\uFF0C\u65B9\u4FBF\u63CF\u8FF0\u3002</p><h3 id="record-\u548C-field" tabindex="-1"><a class="header-anchor" href="#record-\u548C-field" aria-hidden="true">#</a> Record \u548C field</h3><p>ES6 \u89C4\u683C\u5C06\u952E\u503C\u5BF9(key-value map)\u7684\u6570\u636E\u7ED3\u6784\u79F0\u4E3A Record\uFF0C\u5176\u4E2D\u7684\u6BCF\u4E00\u7EC4\u952E\u503C\u5BF9\u79F0\u4E3A field\u3002\u8FD9\u5C31\u662F\u8BF4\uFF0C\u4E00\u4E2A Record \u7531\u591A\u4E2A field \u7EC4\u6210\uFF0C\u800C\u6BCF\u4E2A field \u90FD\u5305\u542B\u4E00\u4E2A\u952E\u540D(key)\u548C\u4E00\u4E2A\u952E\u503C(value)\u3002</p><h3 id="notation" tabindex="-1"><a class="header-anchor" href="#notation" aria-hidden="true">#</a> [[Notation]]</h3><p>ES6 \u89C4\u683C\u5927\u91CF\u4F7F\u7528 <code>[[Notation]]</code> \u8FD9\u79CD\u4E66\u5199\u6CD5\uFF0C\u6BD4\u5982 <code>[[Value]]</code>\u3001<code>[[Writable]]</code>\u3001<code>[[Get]]</code>\u3001<code>[[Set]]</code> \u7B49\u7B49\u3002\u5B83\u7528\u6765\u6307\u4EE3 field \u7684\u952E\u540D\u3002</p><p>\u4E3E\u4F8B\u6765\u8BF4\uFF0C<code>obj</code> \u662F\u4E00\u4E2A Record\uFF0C\u5B83\u6709\u4E00\u4E2A <code>Prototype</code> \u5C5E\u6027\u3002ES6 \u89C4\u683C\u4E0D\u4F1A\u5199 <code>obj.Prototype</code>\uFF0C\u800C\u662F\u5199 <code>obj.[[Prototype]]</code>\u3002\u4E00\u822C\u6765\u8BF4\uFF0C\u4F7F\u7528 <code>[[Notation]]</code> \u8FD9\u79CD\u4E66\u5199\u6CD5\u7684\u5C5E\u6027\uFF0C\u90FD\u662F\u5BF9\u8C61\u7684\u5185\u90E8\u5C5E\u6027\u3002</p><p>\u6240\u6709\u7684 JavaScript \u51FD\u6570\u90FD\u6709\u4E00\u4E2A\u5185\u90E8\u5C5E\u6027 <code>[[Call]]</code>\uFF0C\u7528\u6765\u8FD0\u884C\u8BE5\u51FD\u6570\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token constant">F</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Call<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token constant">V</span><span class="token punctuation">,</span> argumentsList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C<code>F</code> \u662F\u4E00\u4E2A\u51FD\u6570\u5BF9\u8C61\uFF0C<code>[[Call]]</code> \u662F\u5B83\u7684\u5185\u90E8\u65B9\u6CD5\uFF0C<code>F.[[call]]()</code> \u8868\u793A\u8FD0\u884C\u8BE5\u51FD\u6570\uFF0C<code>V</code> \u8868\u793A <code>[[Call]]</code> \u8FD0\u884C\u65F6 <code>this</code> \u7684\u503C\uFF0C<code>argumentsList</code> \u5219\u662F\u8C03\u7528\u65F6\u4F20\u5165\u51FD\u6570\u7684\u53C2\u6570\u3002</p><h3 id="completion-record" tabindex="-1"><a class="header-anchor" href="#completion-record" aria-hidden="true">#</a> Completion Record</h3><p>\u6BCF\u4E00\u4E2A\u8BED\u53E5\u90FD\u4F1A\u8FD4\u56DE\u4E00\u4E2A Completion Record\uFF0C\u8868\u793A\u8FD0\u884C\u7ED3\u679C\u3002\u6BCF\u4E2A Completion Record \u6709\u4E00\u4E2A <code>[[Type]]</code> \u5C5E\u6027\uFF0C\u8868\u793A\u8FD0\u884C\u7ED3\u679C\u7684\u7C7B\u578B\u3002</p><p><code>[[Type]]</code> \u5C5E\u6027\u6709\u4E94\u79CD\u53EF\u80FD\u7684\u503C\u3002</p><ul><li>normal</li><li>return</li><li>throw</li><li>break</li><li>continue</li></ul><p>\u5982\u679C <code>[[Type]]</code> \u7684\u503C\u662F <code>normal</code>\uFF0C\u5C31\u79F0\u4E3A normal completion\uFF0C\u8868\u793A\u8FD0\u884C\u6B63\u5E38\u3002\u5176\u4ED6\u7684\u503C\uFF0C\u90FD\u79F0\u4E3A abrupt completion\u3002\u5176\u4E2D\uFF0C\u5F00\u53D1\u8005\u53EA\u9700\u8981\u5173\u6CE8 <code>[[Type]]</code> \u4E3A <code>throw</code> \u7684\u60C5\u51B5\uFF0C\u5373\u8FD0\u884C\u51FA\u9519\uFF1B<code>break</code>\u3001<code>continue</code>\u3001<code>return</code> \u8FD9\u4E09\u4E2A\u503C\u90FD\u53EA\u51FA\u73B0\u5728\u7279\u5B9A\u573A\u666F\uFF0C\u53EF\u4EE5\u4E0D\u7528\u8003\u8651\u3002</p><h2 id="\u62BD\u8C61\u64CD\u4F5C\u7684\u6807\u51C6\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u62BD\u8C61\u64CD\u4F5C\u7684\u6807\u51C6\u6D41\u7A0B" aria-hidden="true">#</a> \u62BD\u8C61\u64CD\u4F5C\u7684\u6807\u51C6\u6D41\u7A0B</h2><p>\u62BD\u8C61\u64CD\u4F5C\u7684\u8FD0\u884C\u6D41\u7A0B\uFF0C\u4E00\u822C\u662F\u4E0B\u9762\u8FD9\u6837\u3002</p><blockquote><ol><li>Let <code>resultCompletionRecord</code> be <code>AbstractOp()</code>.</li><li>If <code>resultCompletionRecord</code> is an abrupt completion, return <code>resultCompletionRecord</code>.</li><li>Let <code>result</code> be <code>resultCompletionRecord.[[Value]]</code>.</li><li>return <code>result</code>.</li></ol></blockquote><p>\u4E0A\u9762\u7684\u7B2C\u4E00\u6B65\u662F\u8C03\u7528\u62BD\u8C61\u64CD\u4F5C <code>AbstractOp()</code>\uFF0C\u5F97\u5230 <code>resultCompletionRecord</code>\uFF0C\u8FD9\u662F\u4E00\u4E2A Completion Record\u3002\u7B2C\u4E8C\u6B65\uFF0C\u5982\u679C\u8FD9\u4E2A Record \u5C5E\u4E8E abrupt completion\uFF0C\u5C31\u5C06 <code>resultCompletionRecord</code> \u8FD4\u56DE\u7ED9\u7528\u6237\u3002\u5982\u679C\u6B64\u5904\u6CA1\u6709\u8FD4\u56DE\uFF0C\u5C31\u8868\u793A\u8FD0\u884C\u7ED3\u679C\u6B63\u5E38\uFF0C\u6240\u5F97\u7684\u503C\u5B58\u653E\u5728 <code>resultCompletionRecord.[[Value]]</code> \u5C5E\u6027\u3002\u7B2C\u4E09\u6B65\uFF0C\u5C06\u8FD9\u4E2A\u503C\u8BB0\u4E3A <code>result</code>\u3002\u7B2C\u56DB\u6B65\uFF0C\u5C06 <code>result</code> \u8FD4\u56DE\u7ED9\u7528\u6237\u3002</p><p>ES6 \u89C4\u683C\u5C06\u8FD9\u4E2A\u6807\u51C6\u6D41\u7A0B\uFF0C\u4F7F\u7528\u7B80\u5199\u7684\u65B9\u5F0F\u8868\u8FBE\u3002</p><blockquote><ol><li>Let <code>result</code> be <code>AbstractOp()</code>.</li><li><code>ReturnIfAbrupt(result)</code>.</li><li>return <code>result</code>.</li></ol></blockquote><p>\u8FD9\u4E2A\u7B80\u5199\u65B9\u5F0F\u91CC\u9762\u7684 <code>ReturnIfAbrupt(result)</code>\uFF0C\u5C31\u4EE3\u8868\u4E86\u4E0A\u9762\u7684\u7B2C\u4E8C\u6B65\u548C\u7B2C\u4E09\u6B65\uFF0C\u5373\u5982\u679C\u6709\u62A5\u9519\uFF0C\u5C31\u8FD4\u56DE\u9519\u8BEF\uFF0C\u5426\u5219\u53D6\u51FA\u503C\u3002</p><p>\u751A\u81F3\u8FD8\u6709\u8FDB\u4E00\u6B65\u7684\u7B80\u5199\u683C\u5F0F\u3002</p><blockquote><ol><li>Let <code>result</code> be <code>? AbstractOp()</code>.</li><li>return <code>result</code>.</li></ol></blockquote><p>\u4E0A\u9762\u6D41\u7A0B\u7684<code>?</code>\uFF0C\u5C31\u4EE3\u8868 <code>AbstractOp()</code> \u53EF\u80FD\u4F1A\u62A5\u9519\u3002\u4E00\u65E6\u62A5\u9519\uFF0C\u5C31\u8FD4\u56DE\u9519\u8BEF\uFF0C\u5426\u5219\u53D6\u51FA\u503C\u3002</p><p>\u9664\u4E86<code>?</code>\uFF0CES 6 \u89C4\u683C\u8FD8\u4F7F\u7528\u53E6\u4E00\u4E2A\u7B80\u5199\u7B26\u53F7<code>!</code>\u3002</p><blockquote><ol><li>Let <code>result</code> be <code>! AbstractOp()</code>.</li><li>return <code>result</code>.</li></ol></blockquote><p>\u4E0A\u9762\u6D41\u7A0B\u7684<code>!</code>\uFF0C\u4EE3\u8868 <code>AbstractOp()</code> \u4E0D\u4F1A\u62A5\u9519\uFF0C\u8FD4\u56DE\u7684\u4E00\u5B9A\u662F normal completion\uFF0C\u603B\u662F\u53EF\u4EE5\u53D6\u51FA\u503C\u3002</p><h2 id="\u76F8\u7B49\u8FD0\u7B97\u7B26" tabindex="-1"><a class="header-anchor" href="#\u76F8\u7B49\u8FD0\u7B97\u7B26" aria-hidden="true">#</a> \u76F8\u7B49\u8FD0\u7B97\u7B26</h2><p>\u4E0B\u9762\u901A\u8FC7\u4E00\u4E9B\u4F8B\u5B50\uFF0C\u4ECB\u7ECD\u5982\u4F55\u4F7F\u7528\u8FD9\u4EFD\u89C4\u683C\u3002</p><p>\u76F8\u7B49\u8FD0\u7B97\u7B26(<code>==</code>)\u662F\u4E00\u4E2A\u5F88\u8BA9\u4EBA\u5934\u75DB\u7684\u8FD0\u7B97\u7B26\uFF0C\u5B83\u7684\u8BED\u6CD5\u884C\u4E3A\u591A\u53D8\uFF0C\u4E0D\u7B26\u5408\u76F4\u89C9\u3002\u8FD9\u4E2A\u5C0F\u8282\u5C31\u770B\u770B\u89C4\u683C\u600E\u4E48\u89C4\u5B9A\u5B83\u7684\u884C\u4E3A\u3002</p><p>\u8BF7\u770B\u4E0B\u9762\u8FD9\u4E2A\u8868\u8FBE\u5F0F\uFF0C\u8BF7\u95EE\u5B83\u7684\u503C\u662F\u591A\u5C11\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,42),y={href:"https://www.ecma-international.org/ecma-262/6.0/#sec-abstract-equality-comparison",target:"_blank",rel:"noopener noreferrer"},f=e("code",null,"==",-1),g=o("<p>\u89C4\u683C\u5BF9\u6BCF\u4E00\u79CD\u8BED\u6CD5\u884C\u4E3A\u7684\u63CF\u8FF0\uFF0C\u90FD\u5206\u6210\u4E24\u90E8\u5206: \u5148\u662F\u603B\u4F53\u7684\u884C\u4E3A\u63CF\u8FF0\uFF0C\u7136\u540E\u662F\u5B9E\u73B0\u7684\u7B97\u6CD5\u7EC6\u8282\u3002\u76F8\u7B49\u8FD0\u7B97\u7B26\u7684\u603B\u4F53\u63CF\u8FF0\uFF0C\u53EA\u6709\u4E00\u53E5\u8BDD\u3002</p><blockquote><p>\u201CThe comparison <code>x == y</code>, where <code>x</code> and <code>y</code> are values, produces <code>true</code> or <code>false</code>.\u201D</p></blockquote><p>\u4E0A\u9762\u8FD9\u53E5\u8BDD\u7684\u610F\u601D\u662F\uFF0C\u76F8\u7B49\u8FD0\u7B97\u7B26\u7528\u4E8E\u6BD4\u8F83\u4E24\u4E2A\u503C\uFF0C\u8FD4\u56DE <code>true</code> \u6216 <code>false</code>\u3002</p><p>\u4E0B\u9762\u662F\u7B97\u6CD5\u7EC6\u8282\u3002</p><blockquote><ol><li>ReturnIfAbrupt(x).</li><li>ReturnIfAbrupt(y).</li><li>If <code>Type(x)</code> is the same as <code>Type(y)</code>, then <ol><li>Return the result of performing Strict Equality Comparison <code>x === y</code>.</li></ol></li><li>If <code>x</code> is <code>null</code> and <code>y</code> is <code>undefined</code>, return <code>true</code>.</li><li>If <code>x</code> is <code>undefined</code> and <code>y</code> is <code>null</code>, return <code>true</code>.</li><li>If <code>Type(x)</code> is Number and <code>Type(y)</code> is String, return the result of the comparison <code>x == ToNumber(y)</code>.</li><li>If <code>Type(x)</code> is String and <code>Type(y)</code> is Number, return the result of the comparison <code>ToNumber(x) == y</code>.</li><li>If <code>Type(x)</code> is Boolean, return the result of the comparison <code>ToNumber(x) == y</code>.</li><li>If <code>Type(y)</code> is Boolean, return the result of the comparison <code>x == ToNumber(y)</code>.</li><li>If <code>Type(x)</code> is either String, Number, or Symbol and <code>Type(y)</code> is Object, then return the result of the comparison <code>x == ToPrimitive(y)</code>.</li><li>If <code>Type(x)</code> is Object and <code>Type(y)</code> is either String, Number, or Symbol, then return the result of the comparison <code>ToPrimitive(x) == y</code>.</li><li>Return <code>false</code>.</li></ol></blockquote><p>\u4E0A\u9762\u8FD9\u6BB5\u7B97\u6CD5\uFF0C\u4E00\u5171\u6709 12 \u6B65\uFF0C\u7FFB\u8BD1\u5982\u4E0B\u3002</p><blockquote><ol><li>\u5982\u679C <code>x</code> \u4E0D\u662F\u6B63\u5E38\u503C(\u6BD4\u5982\u629B\u51FA\u4E00\u4E2A\u9519\u8BEF)\uFF0C\u4E2D\u65AD\u6267\u884C\u3002</li><li>\u5982\u679C <code>y</code> \u4E0D\u662F\u6B63\u5E38\u503C\uFF0C\u4E2D\u65AD\u6267\u884C\u3002</li><li>\u5982\u679C <code>Type(x)</code> \u4E0E <code>Type(y)</code> \u76F8\u540C\uFF0C\u6267\u884C\u4E25\u683C\u76F8\u7B49\u8FD0\u7B97 <code>x === y</code>\u3002</li><li>\u5982\u679C <code>x</code> \u662F <code>null</code>\uFF0C<code>y</code> \u662F <code>undefined</code>\uFF0C\u8FD4\u56DE <code>true</code>\u3002</li><li>\u5982\u679C <code>x</code> \u662F <code>undefined</code>\uFF0C<code>y</code> \u662F <code>null</code>\uFF0C\u8FD4\u56DE <code>true</code>\u3002</li><li>\u5982\u679C <code>Type(x)</code> \u662F\u6570\u503C\uFF0C<code>Type(y)</code> \u662F\u5B57\u7B26\u4E32\uFF0C\u8FD4\u56DE <code>x == ToNumber(y)</code> \u7684\u7ED3\u679C\u3002</li><li>\u5982\u679C <code>Type(x)</code> \u662F\u5B57\u7B26\u4E32\uFF0C<code>Type(y)</code> \u662F\u6570\u503C\uFF0C\u8FD4\u56DE <code>ToNumber(x) == y</code> \u7684\u7ED3\u679C\u3002</li><li>\u5982\u679C <code>Type(x)</code> \u662F\u5E03\u5C14\u503C\uFF0C\u8FD4\u56DE <code>ToNumber(x) == y</code> \u7684\u7ED3\u679C\u3002</li><li>\u5982\u679C <code>Type(y)</code> \u662F\u5E03\u5C14\u503C\uFF0C\u8FD4\u56DE <code>x == ToNumber(y)</code> \u7684\u7ED3\u679C\u3002</li><li>\u5982\u679C <code>Type(x)</code> \u662F\u5B57\u7B26\u4E32\u6216\u6570\u503C\u6216 <code>Symbol</code> \u503C\uFF0C<code>Type(y)</code> \u662F\u5BF9\u8C61\uFF0C\u8FD4\u56DE <code>x == ToPrimitive(y)</code> \u7684\u7ED3\u679C\u3002</li><li>\u5982\u679C <code>Type(x)</code> \u662F\u5BF9\u8C61\uFF0C<code>Type(y)</code> \u662F\u5B57\u7B26\u4E32\u6216\u6570\u503C\u6216 <code>Symbol</code> \u503C\uFF0C\u8FD4\u56DE <code>ToPrimitive(x) == y</code> \u7684\u7ED3\u679C\u3002</li><li>\u8FD4\u56DE <code>false</code>\u3002</li></ol></blockquote>",7),_=e("code",null,"0",-1),w=e("code",null,"null",-1),T={href:"https://www.ecma-international.org/ecma-262/6.0/#sec-terms-and-definitions-null-type",target:"_blank",rel:"noopener noreferrer"},x=e("code",null,"typeof",-1),A=e("code",null,"false",-1),I=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">0</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u6570\u7EC4\u7684\u7A7A\u4F4D" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u7684\u7A7A\u4F4D" aria-hidden="true">#</a> \u6570\u7EC4\u7684\u7A7A\u4F4D</h2><p>\u4E0B\u9762\u518D\u770B\u53E6\u4E00\u4E2A\u4F8B\u5B50\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

a1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 3</span>
a2<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 3</span>

a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>

a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C\u6570\u7EC4 <code>a1</code> \u7684\u6210\u5458\u662F\u4E09\u4E2A <code>undefined</code>\uFF0C\u6570\u7EC4 <code>a2</code> \u7684\u6210\u5458\u662F\u4E09\u4E2A\u7A7A\u4F4D\u3002\u8FD9\u4E24\u4E2A\u6570\u7EC4\u5F88\u76F8\u4F3C\uFF0C\u957F\u5EA6\u90FD\u662F 3\uFF0C\u6BCF\u4E2A\u4F4D\u7F6E\u7684\u6210\u5458\u8BFB\u53D6\u51FA\u6765\u90FD\u662F <code>undefined</code>\u3002</p><p>\u4F46\u662F\uFF0C\u5B83\u4EEC\u5B9E\u9645\u4E0A\u5B58\u5728\u91CD\u5927\u5DEE\u5F02\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token number">0</span> <span class="token keyword">in</span> a1<span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token number">0</span> <span class="token keyword">in</span> a2<span class="token punctuation">;</span> <span class="token comment">// false</span>

a1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
a2<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;]</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// []</span>

a1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 1, 1]</span>
a2<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [, , ,]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u4EE3\u7801\u4E00\u5171\u5217\u51FA\u4E86\u56DB\u79CD\u8FD0\u7B97\uFF0C\u6570\u7EC4 <code>a1</code> \u548C <code>a2</code> \u7684\u7ED3\u679C\u90FD\u4E0D\u4E00\u6837\u3002\u524D\u4E09\u79CD\u8FD0\u7B97(<code>in</code> \u8FD0\u7B97\u7B26\u3001\u6570\u7EC4\u7684 <code>hasOwnProperty</code> \u65B9\u6CD5\u3001<code>Object.keys</code> \u65B9\u6CD5)\u90FD\u8BF4\u660E\uFF0C\u6570\u7EC4 <code>a2</code> \u53D6\u4E0D\u5230\u5C5E\u6027\u540D\u3002\u6700\u540E\u4E00\u79CD\u8FD0\u7B97(\u6570\u7EC4\u7684 <code>map</code> \u65B9\u6CD5)\u8BF4\u660E\uFF0C\u6570\u7EC4 <code>a2</code> \u6CA1\u6709\u53D1\u751F\u904D\u5386\u3002</p><p>\u4E3A\u4EC0\u4E48 <code>a1</code> \u4E0E <code>a2</code> \u6210\u5458\u7684\u884C\u4E3A\u4E0D\u4E00\u81F4? \u6570\u7EC4\u7684\u6210\u5458\u662F <code>undefined</code> \u6216\u7A7A\u4F4D\uFF0C\u5230\u5E95\u6709\u4EC0\u4E48\u4E0D\u540C?</p>`,9),C={href:"https://www.ecma-international.org/ecma-262/6.0/#sec-array-initializer",target:"_blank",rel:"noopener noreferrer"},q=o('<blockquote><p>\u201CArray elements may be elided at the beginning, middle or end of the element list. Whenever a comma in the element list is not preceded by an AssignmentExpression (i.e., a comma at the beginning or after another comma), the missing array element contributes to the length of the Array and increases the index of subsequent elements. Elided array elements are not defined. If an element is elided at the end of an array, that element does not contribute to the length of the Array.\u201D</p></blockquote><p>\u7FFB\u8BD1\u5982\u4E0B\u3002</p><blockquote><p>\u201C\u6570\u7EC4\u6210\u5458\u53EF\u4EE5\u7701\u7565\u3002\u53EA\u8981\u9017\u53F7\u524D\u9762\u6CA1\u6709\u4EFB\u4F55\u8868\u8FBE\u5F0F\uFF0C\u6570\u7EC4\u7684 <code>length</code> \u5C5E\u6027\u5C31\u4F1A\u52A0 1\uFF0C\u5E76\u4E14\u76F8\u5E94\u589E\u52A0\u5176\u540E\u6210\u5458\u7684\u4F4D\u7F6E\u7D22\u5F15\u3002\u88AB\u7701\u7565\u7684\u6210\u5458\u4E0D\u4F1A\u88AB\u5B9A\u4E49\u3002\u5982\u679C\u88AB\u7701\u7565\u7684\u6210\u5458\u662F\u6570\u7EC4\u6700\u540E\u4E00\u4E2A\u6210\u5458\uFF0C\u5219\u4E0D\u4F1A\u5BFC\u81F4\u6570\u7EC4 <code>length</code> \u5C5E\u6027\u589E\u52A0\u3002\u201D</p></blockquote><p>\u4E0A\u9762\u7684\u89C4\u683C\u8BF4\u5F97\u5F88\u6E05\u695A\uFF0C\u6570\u7EC4\u7684\u7A7A\u4F4D\u4F1A\u53CD\u6620\u5728 <code>length</code> \u5C5E\u6027\uFF0C\u4E5F\u5C31\u662F\u8BF4\u7A7A\u4F4D\u6709\u81EA\u5DF1\u7684\u4F4D\u7F6E\uFF0C\u4F46\u662F\u8FD9\u4E2A\u4F4D\u7F6E\u7684\u503C\u662F\u672A\u5B9A\u4E49\uFF0C\u5373\u8FD9\u4E2A\u503C\u662F\u4E0D\u5B58\u5728\u7684\u3002\u5982\u679C\u4E00\u5B9A\u8981\u8BFB\u53D6\uFF0C\u7ED3\u679C\u5C31\u662F <code>undefined</code>(\u56E0\u4E3A <code>undefined</code> \u5728 JavaScript \u8BED\u8A00\u4E2D\u8868\u793A\u4E0D\u5B58\u5728)\u3002</p><p>\u8FD9\u5C31\u89E3\u91CA\u4E86\u4E3A\u4EC0\u4E48 <code>in</code> \u8FD0\u7B97\u7B26\u3001\u6570\u7EC4\u7684 <code>hasOwnProperty</code> \u65B9\u6CD5\u3001<code>Object.keys</code> \u65B9\u6CD5\uFF0C\u90FD\u53D6\u4E0D\u5230\u7A7A\u4F4D\u7684\u5C5E\u6027\u540D\u3002\u56E0\u4E3A\u8FD9\u4E2A\u5C5E\u6027\u540D\u6839\u672C\u5C31\u4E0D\u5B58\u5728\uFF0C\u89C4\u683C\u91CC\u9762\u6CA1\u8BF4\u8981\u4E3A\u7A7A\u4F4D\u5206\u914D\u5C5E\u6027\u540D(\u4F4D\u7F6E\u7D22\u5F15)\uFF0C\u53EA\u8BF4\u8981\u4E3A\u4E0B\u4E00\u4E2A\u5143\u7D20\u7684\u4F4D\u7F6E\u7D22\u5F15\u52A0 1\u3002</p><p>\u81F3\u4E8E\u4E3A\u4EC0\u4E48\u6570\u7EC4\u7684 <code>map</code> \u65B9\u6CD5\u4F1A\u8DF3\u8FC7\u7A7A\u4F4D\uFF0C\u8BF7\u770B\u4E0B\u4E00\u8282\u3002</p><h2 id="\u6570\u7EC4\u7684-map-\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u6570\u7EC4\u7684-map-\u65B9\u6CD5" aria-hidden="true">#</a> \u6570\u7EC4\u7684 map \u65B9\u6CD5</h2>',7),O={href:"https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.map",target:"_blank",rel:"noopener noreferrer"},S=e("code",null,"map",-1),R=e("code",null,"map",-1),P=o(`<p>\u540E\u9762\u7684\u7B97\u6CD5\u63CF\u8FF0\u662F\u8FD9\u6837\u7684\u3002</p><blockquote><ol><li>Let <code>O</code> be <code>ToObject(this value)</code>.</li><li><code>ReturnIfAbrupt(O)</code>.</li><li>Let <code>len</code> be <code>ToLength(Get(O, &quot;length&quot;))</code>.</li><li><code>ReturnIfAbrupt(len)</code>.</li><li>If <code>IsCallable(callbackfn)</code> is <code>false</code>, throw a TypeError exception.</li><li>If <code>thisArg</code> was supplied, let <code>T</code> be <code>thisArg</code>; else let <code>T</code> be <code>undefined</code>.</li><li>Let <code>A</code> be <code>ArraySpeciesCreate(O, len)</code>.</li><li><code>ReturnIfAbrupt(A)</code>.</li><li>Let <code>k</code> be 0.</li><li>Repeat, while <code>k</code> &lt; <code>len</code><ol><li>Let <code>Pk</code> be <code>ToString(k)</code>.</li><li>Let <code>kPresent</code> be <code>HasProperty(O, Pk)</code>.</li><li><code>ReturnIfAbrupt(kPresent)</code>.</li><li>If <code>kPresent</code> is <code>true</code>, then <ol><li>Let <code>kValue</code> be <code>Get(O, Pk)</code>.</li><li><code>ReturnIfAbrupt(kValue)</code>.</li><li>Let <code>mappedValue</code> be <code>Call(callbackfn, T, \xABkValue, k, O\xBB)</code>.</li><li><code>ReturnIfAbrupt(mappedValue)</code>.</li><li>Let <code>status</code> be <code>CreateDataPropertyOrThrow (A, Pk, mappedValue)</code>.</li><li><code>ReturnIfAbrupt(status)</code>.</li></ol></li><li>Increase <code>k</code> by 1.</li></ol></li><li>Return <code>A</code>.</li></ol></blockquote><p>\u7FFB\u8BD1\u5982\u4E0B\u3002</p><blockquote><ol><li>\u5F97\u5230\u5F53\u524D\u6570\u7EC4\u7684 <code>this</code> \u5BF9\u8C61</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li><li>\u6C42\u51FA\u5F53\u524D\u6570\u7EC4\u7684 <code>length</code> \u5C5E\u6027</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li><li>\u5982\u679C map \u65B9\u6CD5\u7684\u53C2\u6570 <code>callbackfn</code> \u4E0D\u53EF\u6267\u884C\uFF0C\u5C31\u62A5\u9519</li><li>\u5982\u679C map \u65B9\u6CD5\u7684\u53C2\u6570\u4E4B\u4E2D\uFF0C\u6307\u5B9A\u4E86 <code>this</code>\uFF0C\u5C31\u8BA9 <code>T</code> \u7B49\u4E8E\u8BE5\u53C2\u6570\uFF0C\u5426\u5219 <code>T</code> \u4E3A <code>undefined</code></li><li>\u751F\u6210\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4 <code>A</code>\uFF0C\u8DDF\u5F53\u524D\u6570\u7EC4\u7684 <code>length</code> \u5C5E\u6027\u4FDD\u6301\u4E00\u81F4</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li><li>\u8BBE\u5B9A <code>k</code> \u7B49\u4E8E 0</li><li>\u53EA\u8981 <code>k</code> \u5C0F\u4E8E\u5F53\u524D\u6570\u7EC4\u7684 <code>length</code> \u5C5E\u6027\uFF0C\u5C31\u91CD\u590D\u4E0B\u9762\u6B65\u9AA4 <ol><li>\u8BBE\u5B9A <code>Pk</code> \u7B49\u4E8E <code>ToString(k)</code>\uFF0C\u5373\u5C06 <code>K</code> \u8F6C\u4E3A\u5B57\u7B26\u4E32</li><li>\u8BBE\u5B9A <code>kPresent</code> \u7B49\u4E8E <code>HasProperty(O, Pk)</code>\uFF0C\u5373\u6C42\u5F53\u524D\u6570\u7EC4\u6709\u6CA1\u6709\u6307\u5B9A\u5C5E\u6027</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li><li>\u5982\u679C <code>kPresent</code> \u7B49\u4E8E <code>true</code>\uFF0C\u5219\u8FDB\u884C\u4E0B\u9762\u6B65\u9AA4 <ol><li>\u8BBE\u5B9A <code>kValue</code> \u7B49\u4E8E <code>Get(O, Pk)</code>\uFF0C\u53D6\u51FA\u5F53\u524D\u6570\u7EC4\u7684\u6307\u5B9A\u5C5E\u6027</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li><li>\u8BBE\u5B9A <code>mappedValue</code> \u7B49\u4E8E <code>Call(callbackfn, T, \xABkValue, k, O\xBB)</code>\uFF0C\u5373\u6267\u884C\u56DE\u8C03\u51FD\u6570</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li><li>\u8BBE\u5B9A <code>status</code> \u7B49\u4E8E <code>CreateDataPropertyOrThrow (A, Pk, mappedValue)</code>\uFF0C\u5373\u5C06\u56DE\u8C03\u51FD\u6570\u7684\u503C\u653E\u5165 <code>A</code> \u6570\u7EC4\u7684\u6307\u5B9A\u4F4D\u7F6E</li><li>\u5982\u679C\u62A5\u9519\u5C31\u8FD4\u56DE</li></ol></li><li><code>k</code> \u589E\u52A0 1</li></ol></li><li>\u8FD4\u56DE <code>A</code></li></ol></blockquote><p>\u4ED4\u7EC6\u67E5\u770B\u4E0A\u9762\u7684\u7B97\u6CD5\uFF0C\u53EF\u4EE5\u53D1\u73B0\uFF0C\u5F53\u5904\u7406\u4E00\u4E2A\u5168\u662F\u7A7A\u4F4D\u7684\u6570\u7EC4\u65F6\uFF0C\u524D\u9762\u6B65\u9AA4\u90FD\u6CA1\u6709\u95EE\u9898\u3002\u8FDB\u5165\u7B2C 10 \u6B65\u4E2D\u7B2C 2 \u6B65\u65F6\uFF0C<code>kPresent</code> \u4F1A\u62A5\u9519\uFF0C\u56E0\u4E3A\u7A7A\u4F4D\u5BF9\u5E94\u7684\u5C5E\u6027\u540D\uFF0C\u5BF9\u4E8E\u6570\u7EC4\u6765\u8BF4\u662F\u4E0D\u5B58\u5728\u7684\uFF0C\u56E0\u6B64\u5C31\u4F1A\u8FD4\u56DE\uFF0C\u4E0D\u4F1A\u8FDB\u884C\u540E\u9762\u7684\u6B65\u9AA4\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [, , ,]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u9762\u4EE3\u7801\u4E2D\uFF0C<code>arr</code> \u662F\u4E00\u4E2A\u5168\u662F\u7A7A\u4F4D\u7684\u6570\u7EC4\uFF0C<code>map</code> \u65B9\u6CD5\u904D\u5386\u6210\u5458\u65F6\uFF0C\u53D1\u73B0\u662F\u7A7A\u4F4D\uFF0C\u5C31\u76F4\u63A5\u8DF3\u8FC7\uFF0C\u4E0D\u4F1A\u8FDB\u5165\u56DE\u8C03\u51FD\u6570\u3002\u56E0\u6B64\uFF0C\u56DE\u8C03\u51FD\u6570\u91CC\u9762\u7684 <code>console.log</code> \u8BED\u53E5\u6839\u672C\u4E0D\u4F1A\u6267\u884C\uFF0C\u6574\u4E2A <code>map</code> \u65B9\u6CD5\u8FD4\u56DE\u4E00\u4E2A\u5168\u662F\u7A7A\u4F4D\u7684\u65B0\u6570\u7EC4\u3002</p>`,7),j=e("code",null,"map",-1),E={href:"https://github.com/v8/v8/blob/44c44521ae11859478b42004f57ea93df52526ee/src/js/array.js#L1347",target:"_blank",rel:"noopener noreferrer"},L=o(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">ArrayMap</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token constant">CHECK_OBJECT_COERCIBLE</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;Array.prototype.map&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Pull out the length so that modifications to the length in the</span>
  <span class="token comment">// loop will not affect the looping and side effects are visible.</span>
  <span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token constant">TO_OBJECT</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token constant">TO_LENGTH_OR_UINT32</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">InnerArrayMap</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> receiver<span class="token punctuation">,</span> array<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">InnerArrayMap</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> receiver<span class="token punctuation">,</span> array<span class="token punctuation">,</span> length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">IS_CALLABLE</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">MakeTypeError</span><span class="token punctuation">(</span>kCalledNonCallable<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> accumulator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InternalArray</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> is_array <span class="token operator">=</span> <span class="token constant">IS_ARRAY</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> stepping <span class="token operator">=</span> <span class="token constant">DEBUG_IS_STEPPING</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">HAS_INDEX</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> i<span class="token punctuation">,</span> is_array<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> element <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// Prepare break slots for debugger step in.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>stepping<span class="token punctuation">)</span> <span class="token operator">%</span><span class="token function">DebugPrepareStepInIfStepping</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
      accumulator<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">%</span><span class="token function">_Call</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> receiver<span class="token punctuation">,</span> element<span class="token punctuation">,</span> i<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GlobalArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">%</span><span class="token function">MoveArrayContents</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function N(V,B){const a=l("ExternalLinkIcon");return t(),p("div",null,[d,r,u,k,m,b,e("p",null,[n("ECMAScript 6 \u7684\u89C4\u683C\uFF0C\u53EF\u4EE5\u5728 ECMA \u56FD\u9645\u6807\u51C6\u7EC4\u7EC7\u7684\u5B98\u65B9\u7F51\u7AD9("),e("a",h,[n("www.ecma-international.org/ecma-262/6.0/"),s(a)]),n(")\u514D\u8D39\u4E0B\u8F7D\u548C\u5728\u7EBF\u9605\u8BFB\u3002")]),v,e("p",null,[n("\u5982\u679C\u60A8\u4E0D\u786E\u5B9A\u7B54\u6848\uFF0C\u6216\u8005\u60F3\u77E5\u9053\u8BED\u8A00\u5185\u90E8\u600E\u4E48\u5904\u7406\uFF0C\u5C31\u53EF\u4EE5\u53BB\u67E5\u770B\u89C4\u683C\uFF0C"),e("a",y,[n("7.2.12 \u5C0F\u8282"),s(a)]),n("\u662F\u5BF9\u76F8\u7B49\u8FD0\u7B97\u7B26("),f,n(")\u7684\u63CF\u8FF0\u3002")]),g,e("p",null,[n("\u7531\u4E8E "),_,n(" \u7684\u7C7B\u578B\u662F\u6570\u503C\uFF0C"),w,n(" \u7684\u7C7B\u578B\u662F Null(\u8FD9\u662F\u89C4\u683C"),e("a",T,[n("4.3.13 \u5C0F\u8282"),s(a)]),n("\u7684\u89C4\u5B9A\uFF0C\u662F\u5185\u90E8 Type \u8FD0\u7B97\u7684\u7ED3\u679C\uFF0C\u8DDF "),x,n(" \u8FD0\u7B97\u7B26\u65E0\u5173)\u3002\u56E0\u6B64\u4E0A\u9762\u7684\u524D 11 \u6B65\u90FD\u5F97\u4E0D\u5230\u7ED3\u679C\uFF0C\u8981\u5230\u7B2C 12 \u6B65\u624D\u80FD\u5F97\u5230 "),A,n("\u3002")]),I,e("p",null,[n("\u89C4\u683C\u7684"),e("a",C,[n("12.2.5 \u5C0F\u8282\u300A\u6570\u7EC4\u7684\u521D\u59CB\u5316\u300B"),s(a)]),n("\u7ED9\u51FA\u4E86\u7B54\u6848\u3002")]),q,e("p",null,[n("\u89C4\u683C\u7684"),e("a",O,[n("22.1.3.15 \u5C0F\u8282"),s(a)]),n("\u5B9A\u4E49\u4E86\u6570\u7EC4\u7684 "),S,n(" \u65B9\u6CD5\u3002\u8BE5\u5C0F\u8282\u5148\u662F\u603B\u4F53\u63CF\u8FF0 "),R,n(" \u65B9\u6CD5\u7684\u884C\u4E3A\uFF0C\u91CC\u9762\u6CA1\u6709\u63D0\u5230\u6570\u7EC4\u7A7A\u4F4D\u3002")]),P,e("p",null,[n("V8 \u5F15\u64CE\u5BF9 "),j,n(" \u65B9\u6CD5\u7684"),e("a",E,[n("\u5B9E\u73B0"),s(a)]),n("\u5982\u4E0B\uFF0C\u53EF\u4EE5\u770B\u5230\u8DDF\u89C4\u683C\u7684\u7B97\u6CD5\u63CF\u8FF0\u5B8C\u5168\u4E00\u81F4\u3002")]),L])}const D=c(i,[["render",N],["__file","spec.html.vue"]]);export{D as default};
